function switchNightMode(){var n=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0";n=="0"?(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,document.cookie="night=1;path=/",Qmsg.info("夜间模式开启",QMSG_GLOBALS.DEFAULTS)):(document.querySelector('link[title="dark"]').disabled=!0,document.cookie="night=0;path=/",Qmsg.info("夜间模式关闭",QMSG_GLOBALS.DEFAULTS))}function makeGallery(){var n=50;$.each($(".photos"),function(t,i){$.each($(i).children(),function(t,i){var r=new Image;r.src=$(i).find("img").attr("src");r.onload=function(){var t=parseFloat(r.width),u=parseFloat(r.height);$(i).css("width",t*n/u+"px");$(i).css("flex-grow",t*n/u);$(i).find("div").css("padding-top",u/t*100+"%")}})})}function pjax_click(){if(typeof aplayers!="undefined")for(var n=0;n<aplayers.length;n++)try{aplayers[n].destroy()}catch(t){}}function pjax_send(){$("#M").addClass("opacity-disappear");$(".toc").length&&tocbot.destroy();typeof NProgress!="undefined"&&NProgress.start()}function pjax_complete(){typeof Prism!="undefined"&&Prism.highlightAll(!0,null);var n=!1;try{n=typeof eval("loadMeting")=="function"}catch(t){}n&&loadMeting();$("#M").addClass("opacity-show");PreFancybox();imageinfo();toc();makeGallery();collapse_toggle();jQuery(document).ready(function(n){n("img.lazyload").lazyload({threshold:100,effect:"fadeIn"})});ajaxc();typeof NProgress!="undefined"&&NProgress.done()}function PreFancybox(){$("#post img").each(function(){$(this).wrap(function(){return $(this).is(".bq")||$(this).is("#feedme-content img")?"":'<a data-fancybox="gallery" no-pjax data-type="image" href="'+$(this).attr("src")+'" class="light-link"><\/a>'})})}function imageinfo(){$("#post img").each(function(){$(this).wrap(function(){if($(this).is(".bq")||$(this).is("#feedme-content img"))return"";if($(this).is("div.photos figure div img"))return $(this).addClass("lazyload"),$(this).attr("data-original",$(this).attr("src")),$(this).attr("src","https://cdn.jsdelivr.net/gh/youranreus/R@v1.1.5/G/IMG/loading2.gif"),"";$(this).addClass("lazyload");$(this).attr("data-original",$(this).attr("src"));$(this).attr("src","https://cdn.jsdelivr.net/gh/youranreus/R@v1.1.5/G/IMG/loading2.gif");$(this).after('<span class="imageinfo">'+$(this).attr("title")+"<\/span>")})})}function show_site_runtime(n){window.setTimeout("show_site_runtime('"+n+"')",1e3);X=new Date(n);Y=new Date;T=Y.getTime()-X.getTime();i=864e5;d=T/i;D=Math.floor(d);h=(d-D)*24;H=Math.floor(h);m=(h-H)*60;M=Math.floor(m);s=(m-M)*60;S=Math.floor(s);site_runtime.innerHTML=D+"<span>天<\/span>"+H+"<span>小时<\/span>"+M+"<span>分<\/span>"+S+"<span>秒<\/span>"}function feedme_show(){$("#feedme-content").css("display")=="none"?$("#feedme-content").slideDown():$("#feedme-content").slideUp()}function OwO_show(){$("#OwO-container").css("display")=="none"?$("#OwO-container").slideDown():$("#OwO-container").slideUp()}function sideMenu_toggle(){$("#sliderbar").toggleClass("move_left");$("#sliderbar").toggleClass("move_right");$("#sliderbar-cover").toggle();$("#m_search").toggle();$("#pjax-container").toggleClass("main_display");$("#sliderbar-toc").hasClass("move_left")&&toc_toggle()}function toc_toggle(){$("#sliderbar-toc").toggleClass("move_left");$("#sliderbar-toc").toggleClass("move_right");$("#m_search").removeClass("m_search_c");$("#sliderbar-toc-cover").toggle()}function collapse_toggle(){$(".collapse-title").click(function(){$(this).next().css("display")=="none"?$(this).next().slideDown():$(this).next().slideUp()})}function toc(){if($("#post-content-article").length>0){var i="h1,h2,h3,h4",r="#post-content-article",n={},t=!1;$(r).children(i).each(function(){var i=$(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\：|\，|\。]/g,"");i=i.toLowerCase();n[i]?($(this).attr("id",i+"-"+n[i]),n[i]++,t=!0):(n[i]=1,$(this).attr("id",i),t=!0)});t==!0&&($("#sliderbar-toc").show(),$("#m_toc").show(),$("#m_search").removeClass("m_search_c"));tocbot.init({tocSelector:".toc",contentSelector:r,headingSelector:i,positionFixedSelector:"#sliderbar-toc",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",scrollSmooth:!0,scrollSmoothOffset:0,headingsOffset:-200})}else $("#sliderbar-toc").hide(),$("#m_toc").hide(),$("#m_search").addClass("m_search_c")}function gototop(){return $("body,html").animate({scrollTop:0},500),!1}function show_slide_content(n){$("#Sliderbar-content-"+n).css("display")=="none"?($("#Sliderbar-content-"+n).slideDown(),$("#Sliderbar-content-"+n).prev().find("i").css({"-webkit-transition":" .3s ease all","-moz-transition":".3s ease all","-ms-transition":".3s ease all","-o-transition":".3s ease all",transition:".3s ease all","-webkit-transform":" rotate(180deg)","-moz-transform":" rotate(180deg)","-ms-transform":"rotate(180deg)","-o-transform":"rotate(180deg)",transform:"rotate(180deg)"})):($("#Sliderbar-content-"+n).slideUp(),$("#Sliderbar-content-"+n).prev().find("i").css({"-webkit-transition":" .3s ease all","-moz-transition":".3s ease all","-ms-transition":".3s ease all","-o-transition":".3s ease all",transition:".3s ease all","-webkit-transform":" rotate(0deg)","-moz-transform":" rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"}))}function ajaxc(){function f(){$("#comment-loading").fadeIn();$(".submit").fadeOut();$("#OwO-container").slideUp()}function r(t){t&&($("#textarea").val(""),n="",Qmsg.success("发送成功",QMSG_GLOBALS.DEFAULTS));i()}var n="",e=$(".submit").eq(0),u=$("#comment-form"),t="",i=function(){$(".comment-reply a").click(function(){n=$(this).parent().parent().parent().attr("id")});$(".cancel-comment-reply a").click(function(){n=""})};i();$("#comment-form").submit(function(){return commentData=$(this).serializeArray(),f(),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:commentData,error:function(){console.log("Ajax Comment Error");window.location.reload()},success:function(i){var e,f;if(!$("#comments",i).length)return e=$(i)[7].innerText.replace(/[\r\n]/g,"").replace(/[ ]/g,""),Qmsg.warning(e,QMSG_GLOBALS.DEFAULTS),$("#comment-loading").fadeOut(),$(".submit").fadeIn(),r(!1),!1;$("input,textarea",u).attr("disabled",!1);$("#textarea").val("");t=$(".comment-list",i).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort(function(n,t){return n-t}).pop();""===n?($(".comment-list").length?$(".prev").length?$("#page-nav ul li a").eq(1).click():(f=$("#li-comment-"+t,i),$(".comment-list").first().prepend(f.addClass("animated fadeInUp"))):(f=$("#li-comment-"+t,i),$(".comments-header").after('<ol class="comment-list"><\/ol>'),$(".comment-list").first().prepend(f.addClass("animated fadeInUp"))),$("html,body").animate({scrollTop:$("#response").offset().top-100},1e3)):(f=$("#li-comment-"+t,i),$("#"+n).find(".comment-children").length?($("#"+n+" .comment-children .comment-list").first().prepend(f.addClass("animated fadeInUp")),TypechoComment.cancelReply()):($("#"+n).append('<div class="comment-children"><ol class="comment-list"><\/ol><\/div>'),$("#"+n+" .comment-children .comment-list").first().prepend(f.addClass("animated fadeInUp")),TypechoComment.cancelReply()));r(!0)},error:function(){$("#comment-loading").fadeOut();$(".submit").fadeIn()},complete:function(){$("#comment-loading").fadeOut();$(".submit").fadeIn()}}),!1})}var mobileHover=function(){$("*").on("touchstart",function(){$(this).trigger("hover")}).on("touchend",function(){$(this).trigger("hover")})};(function(){if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")=="")(new Date).getHours()>22||(new Date).getHours()<6?(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,document.cookie="night=1;path=/",Qmsg.info("夜间模式开启",QMSG_GLOBALS.DEFAULTS)):document.cookie="night=0;path=/";else{var n=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0";n=="0"?document.querySelector('link[title="dark"]').disabled=!0:n=="1"&&(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,Qmsg.info("夜间模式开启",QMSG_GLOBALS.DEFAULTS))}})();$(document).pjax('a:not(a[target="_blank"], a[no-pjax])',{container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}).on("pjax:send",function(){pjax_send()}).on("pjax:complete",function(){pjax_complete()}).on("pjax:click",function(){pjax_click()});Smilies={dom:function(n){return document.getElementById(n)},grin:function(n){n=" "+n+" ";myField=this.dom("textarea");document.selection?(myField.focus(),sel=document.selection.createRange(),sel.text=n,myField.focus()):this.insertTag(n)},insertTag:function(n){myField=Smilies.dom("textarea");myField.selectionStart||myField.selectionStart=="0"?(startPos=myField.selectionStart,endPos=myField.selectionEnd,cursorPos=startPos,myField.value=myField.value.substring(0,startPos)+n+myField.value.substring(endPos,myField.value.length),cursorPos+=n.length,myField.focus(),myField.selectionStart=cursorPos,myField.selectionEnd=cursorPos):(myField.value+=n,myField.focus())}};console.info(" %c Powered by Typecho ","color:#fadfa3;background:#030307;padding:5px 0;");console.info(" %c made with ❤ by youranreus ","color: #fadfa3; background: #030307; padding:5px 0;")