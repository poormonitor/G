!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t(n)}):n.Qmsg=t(n)}(this,function(n){function i(){for(var t=e,n=0;n<arguments.length;++n)t+="-"+arguments[n];return t}function s(n){var r=this,u;r.settings=Object.assign({},t,n||{});r.id=f.instanceCount;u=(u=r.settings.timeout)&&parseInt(0<=u)&parseInt(u)<=Math.NEGATIVE_INFINITY?parseInt(u):t.timeout;r.timeout=u;r.settings.timeout=u;r.timer=null;var s=document.createElement("div"),a=h[r.settings.type||"info"],v=i("content-"+r.settings.type||"info")+(r.settings.showClose?" "+i("content-with-close"):"");var l=r.settings.content||"",n=h.close,u=r.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+n+"<\/i>":"",n=document.createElement("span");r.settings.html?n.innerHTML=l:n.innerText=l;s.innerHTML='<div class="qmsg-content">            <div class="'+v+'">                <i class="qmsg-icon">'+a+"<\/i>"+n.outerHTML+u+"<\/div>        <\/div>";s.classList.add(i("item"));u=document.querySelector("."+e);u||((u=document.createElement("div")).classList.add(e,i("wrapper"),i("is-initialized")),document.body.appendChild(u));u.appendChild(s);r.$wrapper=u;r.$elem=s;c(r,"opening");r.settings.showClose&&s.querySelector(".qmsg-icon-close").addEventListener("click",function(){r.close()}.bind(s));s.addEventListener("animationend",function(n){var t=n.target;n.animationName==o.closing&&(clearInterval(this.timer),this.destroy());t.style.animationName="";t.style.webkitAnimationName=""}.bind(r));r.settings.autoClose&&(r.timer=setInterval(function(){this.timeout-=10;this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(r),10),r.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(r)),r.$elem.addEventListener("mouseout",function(){"closing"!=this.state&&(this.timer=setInterval(function(){this.timeout-=10;this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(r),10))}.bind(r)))}function c(n,t){t&&o[t]&&(n.state=t,n.$elem.style.animationName=o[t])}function r(n,i){var r=Object.assign({},t);return 0===arguments.length?r:n instanceof Object?Object.assign(r,n):(r.content=n.toString(),i instanceof Object?Object.assign(r,i):r)}function u(n){var r,h,e,c,l,a,v,u,y,p,f,o;n=n||{};l=JSON.stringify(n);a=-1;for(h in this.oMsgs)if(v=this.oMsgs[h],v.config==l){a=h;r=v.inst;break}if(a<0){if(this.instanceCount++,u={},u.id=this.instanceCount,u.config=l,(r=new s(n)).id=this.instanceCount,r.count="",u.inst=r,this.oMsgs[this.instanceCount]=u,y=this.oMsgs.length,p=this.maxNums,p<y)for(f=0,o=this.oMsgs;f<y-p;f++)o[f]&&o[f].inst.settings.autoClose&&o[f].inst.close()}else r.count=r.count?r.count+1:2,e=r,c=i("count"),n=e.$elem.querySelector("."+i("content")),(u=n.querySelector("."+c))||((u=document.createElement("span")).classList.add(c),n.appendChild(u)),u.innerHTML=e.count,u.style.animationName="",u.style.animationName="MessageShake",e.timeout=e.settings.timeout||t.timeout;return r.$elem.setAttribute("data-count",r.count),r}var f;"function"!=typeof Object.assign&&(Object.assign=function(n){var i,t,r;if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(n=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],null!=t)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n});"classList"in HTMLElement.prototype||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var n=this;return{add:function(t){this.contains(t)||(n.className+=" "+t)},remove:function(t){this.contains(t)&&(t=new RegExp(t),n.className=n.className.replace(t,""))},contains:function(t){return-1!=n.className.indexOf(t)},toggle:function(n){this.contains(n)?this.remove(n):this.add(n)}}}});var e=n&&n.QMSG_GLOBALS&&n.QMSG_GLOBALS.NAMESPACE||"qmsg",o={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},t=Object.assign({type:"info",showClose:!1,timeout:3500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},n&&n.QMSG_GLOBALS&&n.QMSG_GLOBALS.DEFAULTS),h={info:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z" fill="#1890ff" stroke="#1890ff" stroke-width="4" stroke-linejoin="round"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 11C25.3807 11 26.5 12.1193 26.5 13.5C26.5 14.8807 25.3807 16 24 16C22.6193 16 21.5 14.8807 21.5 13.5C21.5 12.1193 22.6193 11 24 11Z" fill="#FFF"/><path d="M24.5 34V20H23.5H22.5" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 34H28" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>',warning:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z" fill="#faad14" stroke="#faad14" stroke-width="4" stroke-linejoin="round"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 37C25.3807 37 26.5 35.8807 26.5 34.5C26.5 33.1193 25.3807 32 24 32C22.6193 32 21.5 33.1193 21.5 34.5C21.5 35.8807 22.6193 37 24 37Z" fill="#FFF"/><path d="M24 12V28" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>',error:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" fill="#f5222d" stroke="#f5222d" stroke-width="4" stroke-linejoin="round"/><path d="M29.6569 18.3431L18.3432 29.6568" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.3432 18.3431L29.6569 29.6568" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>',success:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 4L29.2533 7.83204L35.7557 7.81966L37.7533 14.0077L43.0211 17.8197L41 24L43.0211 30.1803L37.7533 33.9923L35.7557 40.1803L29.2533 40.168L24 44L18.7467 40.168L12.2443 40.1803L10.2467 33.9923L4.97887 30.1803L7 24L4.97887 17.8197L10.2467 14.0077L12.2443 7.81966L18.7467 7.83204L24 4Z" fill="#52c41a" stroke="#52c41a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M17 24L22 29L32 19" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4" stroke="#1890ff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24C36 17.3726 30.6274 12 24 12C17.3726 12 12 17.3726 12 24C12 30.6274 17.3726 36 24 36V36" stroke="#1890ff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><\/svg>'},l=void 0!==(n=document.createElement("div").style).animationName||void 0!==n.WebkitAnimationName||void 0!==n.MozAnimationName||void 0!==n.msAnimationName||void 0!==n.OAnimationName;return s.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem);clearInterval(this.timer);f.remove(this.id)},s.prototype.close=function(){c(this,"closing");l?f.remove(this.id):this.destroy();var n=this.settings.onClose;n&&n instanceof Function&&n.call(this)},f={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:t.maxNums||5,config:function(n){t=n&&n instanceof Object?Object.assign(t,n):t;this.maxNums=t.maxNums&&0<t.maxNums?parseInt(t.maxNums):3},info:function(n,t){return t=r(n,t),t.type="info",u.call(this,t)},warning:function(n,t){return t=r(n,t),t.type="warning",u.call(this,t)},success:function(n,t){return t=r(n,t),t.type="success",u.call(this,t)},error:function(n,t){return t=r(n,t),t.type="error",u.call(this,t)},loading:function(n,t){return t=r(n,t),t.type="loading",t.autoClose=!1,u.call(this,t)},remove:function(n){this.oMsgs[n]&&delete this.oMsgs[n]},closeAll:function(){for(var n in this.oMsgs)this.oMsgs[n]&&this.oMsgs[n].inst.close()}}})